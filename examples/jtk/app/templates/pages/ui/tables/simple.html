<!-- { $this->view->data->title = tr('Simple tables'); } -->

<?php
$randomUsers = function($n = 5) use($Random) {
  $users = array();
  $roles = array(tr('User'), tr('Mod'), tr('Admin'));
  $roleContexts = array('info', 'warning', 'error');
  for ($i = 0; $i < $n; $i++) {
    if (rand(0, 3) == 1) $role = 2;
    else if (rand(0, 1) == 1) $role = 1;
    else $role = 0;
    $users[] = array(
      'id' => $i + 1,
      'name' => $Random->name(),
      'role' => $roles[$role],
      'context' => $roleContexts[$role]
    );
  }
  return $users;
};
?>

<div jtk:grid="1:1" jtk:size="sm">
  <div>
    <div jtk:block>
      <h2 jtk:header j:tr>Default table</h2>
      <table>
        <thead>
          <tr>
            <th scope="col" style="width: 50px;" class="center">#</th>
            <th scope="col">User</th>
            <th scope="col" class="col-sm">Role</th>
            <th scope="col" style="width: 100px;">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr j:foreach="$randomUsers(5) as $user">
            <td class="center" j:text="$user['id']">id</td>
            <td scope="row" j:text="$user['name']">Name goes here</td>
            <td>
              <span class="badge" j:class="'badge-' . $user['context']" j:text="$user['role']">
                Role goes here
              </span>
            </td>
            <td>
              <div class="button-group">
                <?php echo $Icon->button('', 'pencil', array('class' => 'button-xs')); ?>
                <?php echo $Icon->button('', 'close', array('class' => 'button-xs')); ?>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div>
    <div jtk:block>
      <h2 jtk:header j:tr>Contextual table</h2>
      <table>
        <thead>
          <tr>
            <th scope="col" style="width: 50px;" class="center">#</th>
            <th scope="col">User</th>
            <th scope="col" class="col-sm">Role</th>
            <th scope="col" style="width: 100px;">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr j:foreach="$randomUsers(5) as $user" j:class="$user['context']">
            <td class="center" j:text="$user['id']">id</td>
            <td scope="row" j:text="$user['name']">Name goes here</td>
            <td>
              <span class="badge" j:class="'badge-' . $user['context']" j:text="$user['role']">
                Role goes here
              </span>
            </td>
            <td>
              <div class="button-group">
                <?php echo $Icon->button('', 'pencil', array('class' => 'button-xs')); ?>
                <?php echo $Icon->button('', 'close', array('class' => 'button-xs')); ?>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>